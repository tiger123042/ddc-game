<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>‡∏à‡∏±‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ DDC (‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà)</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Kanit&display=swap');
  body {
    margin: 0;
    font-family: 'Kanit', sans-serif;
    background: #fef6e4 url('https://cdn.pixabay.com/photo/2016/11/29/10/07/notebook-1869347_1280.jpg') no-repeat center center fixed;
    background-size: cover;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
    color: #3b2f2f;
  }
  h1 {
    margin: 20px;
    color: #d6336c;
    text-shadow: 1px 1px 2px #fff;
    font-size: 2.4rem;
    text-align: center;
  }
  #game-container {
    width: 90%;
    max-width: 700px;
    height: 70vh;
    background: #fff8f0;
    border-radius: 25px;
    box-shadow: 0 12px 24px rgba(0,0,0,0.3);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 20px;
    position: relative;
    overflow: hidden;
    cursor: default;
  }
  #game-container::before {
    content: "";
    position: absolute;
    top: 10px; bottom: 10px; left: 10px; right: 10px;
    border: 3px dashed #d18ca4;
    border-radius: 25px;
    pointer-events: none;
    mix-blend-mode: multiply;
    opacity: 0.3;
  }
  #dialog-box {
    position: relative;
    background: rgba(255, 255, 255, 0.85);
    border-radius: 20px;
    padding: 22px 24px 22px 220px;
    font-size: 1.25rem;
    line-height: 1.6;
    max-height: 50%;
    overflow-y: auto;
    box-shadow: inset 0 0 12px #d6336c33;
    color: #4b2e49;
    transition: background-color 0.3s ease;
    z-index: 10;
  }
  .speaker {
    font-weight: bold;
    color: #d6336c;
    margin-bottom: 6px;
  }
  #timer-display {
    font-weight: bold;
    text-align: center;
    margin-top: 10px;
    color: #d6336c;
    user-select: none;
    background: rgba(255, 255, 255, 0.85);
  }
  #choices {
    margin-top: 15px;
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    justify-content: center;
    z-index: 20;
  }
  #choices button {
    flex: 1 1 45%;
    background: #d6336c;
    color: #fff;
    border: none;
    border-radius: 16px;
    padding: 14px;
    font-size: 1.05rem;
    cursor: pointer;
    transition: background 0.25s;
    box-shadow: 0 4px 8px #d6336c88;
  }
  #choices button:hover:not(:disabled) {
    background: #a6284a;
    box-shadow: 0 6px 12px #a6284aaa;
  }
  #choices button:disabled {
    background: #ccc;
    color: #666;
    cursor: default;
    box-shadow: none;
  }
  #score-display {
    margin-top: 14px;
    font-weight: 700;
    text-align: center;
    font-size: 1.3rem;
    color: #d6336c;
    text-shadow: 1px 1px 3px #fff;
    min-height: 30px;
    user-select: none;
    z-index: 20;
    background: rgba(255, 255, 255, 0.85);
  }
  #character-img {
    position: absolute;
    top: 120px;
    left: 40px;
    width: 280px;
    height: 420px;
    object-fit: contain;
    user-select: none;
    pointer-events: none;
    z-index: 5;
  }
  #start-screen {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(255, 255, 255, 0.95);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 50;
    font-size: 1.2rem;
    color: #6b3a54;
    padding: 20px;
  }
  #start-screen h2 {
    margin-bottom: 16px;
    color: #d6336c;
    font-size: 2rem;
    text-shadow: 1px 1px 2px #fff;
  }
  #player-name-input {
    font-size: 1.2rem;
    padding: 10px 14px;
    border-radius: 12px;
    border: 2px solid #d6336c;
    width: 280px;
    text-align: center;
    outline-color: #a6284a;
    margin-bottom: 20px;
  }
  #start-btn {
    background: #d6336c;
    border: none;
    border-radius: 16px;
    padding: 14px 30px;
    font-size: 1.15rem;
    color: white;
    cursor: pointer;
    box-shadow: 0 5px 10px #d6336cbb;
    transition: background 0.3s;
  }
  #start-btn:hover {
    background: #a6284a;
    box-shadow: 0 7px 14px #a6284aaa;
  }
  @keyframes correctFlash {
    0%, 100% { background-color: rgba(144,238,144, 0.3); }
    50% { background-color: rgba(34,139,34, 0.6); }
  }
  @keyframes wrongFlash {
    0%, 100% { background-color: rgba(255,182,193, 0.3); }
    50% { background-color: rgba(220,20,60, 0.6); }
  }
  @media (max-width: 600px) {
    #choices button {
      flex: 1 1 100%;
    }
    #dialog-box {
      padding-left: 140px;
      font-size: 1.1rem;
      max-height: 55%;
    }
    #character-img {
      width: 140px;
      height: 180px;
      top: 20px;
      left: 8px;
    }
  }
</style>
</head>
<body>
<h1>üìö ‡∏à‡∏±‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠ DDC (‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà)</h1>

<div id="game-container">
  <img id="character-img" src="mind.png" alt="‡∏°‡∏≤‡∏¢‡∏î‡πå" />
  <div id="dialog-box"></div>
  <div id="timer-display"></div>
  <div id="choices"></div>
  <div id="score-display">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
</div>

<div id="start-screen">
  <h2>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</h2>
  <input type="text" id="player-name-input" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì..." />
  <button id="start-btn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
</div>

<audio id="correct-sound" src="correct.mp3" preload="auto"></audio>
<audio id="wrong-sound" src="wrong.mp3" preload="auto"></audio>
<script>
  const dialogBox = document.getElementById('dialog-box');
  const choicesBox = document.getElementById('choices');
  const scoreDisplay = document.getElementById('score-display');
  const timerDisplay = document.getElementById('timer-display');
  const gameContainer = document.getElementById('game-container');
  const startScreen = document.getElementById('start-screen');
  const playerNameInput = document.getElementById('player-name-input');
  const startBtn = document.getElementById('start-btn');
  
  const correctSound = document.getElementById('correct-sound');
  const wrongSound = document.getElementById('wrong-sound');

  let playerName = '';
  let currentStage = 0;
  let dialogIndex = 0;
  let score = 0;

  const stages = [
    {
      bg: "https://cdn.pixabay.com/photo/2019/09/22/21/06/stairs-4496960_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢! ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏î‡∏¥‡∏ß‡∏≠‡∏µ‡πâ (DDC) ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£?"},
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏£‡∏Å‡πÑ‡∏´‡∏°?"}
      ],
      question: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏î‡∏¥‡∏ß‡∏≠‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î?",
      choices: [
        {text: "‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢", correct: true},
        {text: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠", correct: false},
        {text: "‡πÉ‡∏ä‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ö‡∏ó‡∏ß‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡πå‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠", correct: false},
        {text: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡πà‡∏∞",
      wrongResponse: "‡∏•‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î?"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2017/08/06/22/01/books-2596809_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏´‡∏°‡∏ß‡∏î 000 ‡∏Ç‡∏≠‡∏á DDC ‡∏£‡∏ß‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏∞‡πÑ‡∏£?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 000 ‡πÉ‡∏ô DDC ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏≤‡∏ô‡∏∏‡∏Å‡∏£‡∏°", correct: true},
        {text: "‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false},
        {text: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÇ‡∏•‡∏Å", correct: false},
        {text: "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false}
      ],
      correctResponse: "‡πÉ‡∏ä‡πà‡∏Ñ‡πà‡∏∞! ‡∏´‡∏°‡∏ß‡∏î 000 ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏≤‡∏ô‡∏∏‡∏Å‡∏£‡∏°",
      wrongResponse: "‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£?"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2016/11/20/09/08/books-1842306_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏´‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ ‡∏Ñ‡∏ß‡∏£‡∏î‡∏π‡∏´‡∏°‡∏ß‡∏î‡πÑ‡∏´‡∏ô?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 100 ‡πÉ‡∏ô DDC ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤", correct: true},
        {text: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞", correct: false},
        {text: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", correct: false},
        {text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏´‡∏°‡∏ß‡∏î 100 ‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ä‡∏ç‡∏≤‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤",
      wrongResponse: "‡∏ú‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2015/07/31/11/45/library-869061_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏®‡∏≤‡∏™‡∏ô‡∏≤ ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡πÉ‡∏î?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 200 ‡πÉ‡∏ô DDC ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏®‡∏≤‡∏™‡∏ô‡∏≤", correct: true},
        {text: "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false},
        {text: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", correct: false},
        {text: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏´‡∏°‡∏ß‡∏î 200 ‡∏Ñ‡∏∑‡∏≠‡∏®‡∏≤‡∏™‡∏ô‡∏≤",
      wrongResponse: "‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2017/03/15/19/37/books-2142206_960_720.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡∏®‡∏¥‡∏•‡∏õ‡∏∞ ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡πÑ‡∏´‡∏ô?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 700 ‡πÉ‡∏ô DDC ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö", correct: true},
        {text: "‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false},
        {text: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false},
        {text: "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false}
      ],
      correctResponse: "‡πÉ‡∏ä‡πà‡πÄ‡∏•‡∏¢! ‡∏´‡∏°‡∏ß‡∏î 700 ‡∏Ñ‡∏∑‡∏≠‡∏®‡∏¥‡∏•‡∏õ‡∏∞‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö",
      wrongResponse: "‡∏ú‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2014/10/14/20/14/library-488690_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡πÉ‡∏î?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 600 ‡πÉ‡∏ô DDC ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå", correct: true},
        {text: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞", correct: false},
        {text: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: false},
        {text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏´‡∏°‡∏ß‡∏î 600 ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏Å‡∏ï‡πå",
      wrongResponse: "‡∏ú‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2017/01/20/00/30/books-1993644_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡πÑ‡∏´‡∏ô?"},
      ],
      question: "‡∏´‡∏°‡∏ß‡∏î 900 ‡πÉ‡∏ô DDC ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", correct: true},
        {text: "‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ", correct: false},
        {text: "‡∏®‡∏¥‡∏•‡∏õ‡∏∞", correct: false},
        {text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û", correct: false}
      ],
      correctResponse: "‡πÉ‡∏ä‡πà‡∏Ñ‡πà‡∏∞! ‡∏´‡∏°‡∏ß‡∏î 900 ‡∏Ñ‡∏∑‡∏≠‡∏†‡∏π‡∏°‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå",
      wrongResponse: "‡∏ú‡∏¥‡∏î‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2018/06/03/21/29/library-3456857_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏à‡∏±‡∏î‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏∞‡πÑ‡∏£?"},
      ],
      question: "‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏®‡∏ô‡∏¥‡∏¢‡∏°‡∏î‡∏¥‡∏ß‡∏≠‡∏µ‡πâ (DDC) ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£?",
      choices: [
        {text: "‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô", correct: true},
        {text: "‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏Ç‡∏∂‡πâ‡∏ô", correct: false},
        {text: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î", correct: false},
        {text: "‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏î", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å",
      wrongResponse: "‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞"
    },
    {
      bg: "https://cdn.pixabay.com/photo/2019/12/20/15/28/books-4704937_1280.jpg",
      dialog: [
        {speaker: "‡∏°‡∏≤‡∏¢‡∏î‡πå", text: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡πÑ‡∏´‡∏ô?"},
      ],
      question: "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏´‡∏°‡∏ß‡∏î ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
      choices: [
        {text: "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö DDC ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç", correct: true},
        {text: "‡∏à‡∏±‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏™‡∏∏‡πà‡∏°", correct: false},
        {text: "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏±‡∏î‡∏´‡∏°‡∏ß‡∏î‡πÄ‡∏•‡∏¢", correct: false},
        {text: "‡πÇ‡∏¢‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ó‡∏¥‡πâ‡∏á", correct: false}
      ],
      correctResponse: "‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡πà‡∏∞ ‡∏Ñ‡∏ß‡∏£‡∏´‡∏≤‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡∏≤‡∏°‡∏ú‡∏π‡πâ‡∏£‡∏π‡πâ",
      wrongResponse: "‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ô‡∏∞ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"
    }
  ];

  function setBackground(url) {
    gameContainer.style.backgroundImage = `url(${url})`;
  }

  function updateScore() {
    scoreDisplay.textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score}`;
  }

  function clearChoices() {
    choicesBox.innerHTML = '';
  }

  function disableChoices() {
    [...choicesBox.querySelectorAll("button")].forEach(btn => {
      btn.disabled = true;
    });
  }

  function showFeedback(isCorrect) {
    if (isCorrect) {
      dialogBox.style.animation = 'correctFlash 1.2s';
    } else {
      dialogBox.style.animation = 'wrongFlash 1.2s';
    }
    setTimeout(() => {
      dialogBox.style.animation = '';
    }, 1200);
  }

  let questionTimer = null;
  let countdownInterval = null;

  function startCountdown(seconds) {
    let timeLeft = seconds;
    timerDisplay.textContent = `‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
    countdownInterval = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = `‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${timeLeft} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
      if (timeLeft <= 0) {
        clearInterval(countdownInterval);
      }
    }, 1000);
  }

  function stopCountdown() {
    clearInterval(countdownInterval);
    timerDisplay.textContent = '';
  }

  function nextStage() {
    currentStage++;
    if (currentStage >= stages.length) {
      endGame();
    } else {
      dialogIndex = 0;
      showDialog();
    }
  }

  function showDialog() {
    clearChoices();
    stopCountdown();
    const stage = stages[currentStage];
    setBackground(stage.bg);
    if (dialogIndex < stage.dialog.length) {
      const line = stage.dialog[dialogIndex];
      dialogBox.innerHTML = `<div class="speaker">${line.speaker}:</div><div>${line.text}</div>`;
      dialogIndex++;
      setTimeout(showDialog, 2200);
    } else {
      showQuestion();
    }
  }

  function showQuestion() {
    const stage = stages[currentStage];
    setBackground(stage.bg);
    dialogBox.innerHTML = `<div class="speaker">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</div><div>${stage.question}</div>`;
    clearChoices();

    // ‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
    const shuffledChoices = [...stage.choices].sort(() => Math.random() - 0.5);
    shuffledChoices.forEach(choice => {
      const btn = document.createElement("button");
      btn.textContent = choice.text;
      btn.onclick = () => {
        if (questionTimer) {
          clearTimeout(questionTimer);
          questionTimer = null;
        }
        stopCountdown();
        disableChoices();
        if (choice.correct) {
          correctSound.play();
          score += 1;
          updateScore();
          showFeedback(true);
          dialogBox.innerHTML = `<div class="speaker">‡∏°‡∏≤‡∏¢‡∏î‡πå:</div><div style="color:green;">${stage.correctResponse}</div>`;
          setTimeout(nextStage, 2000);
        } else {
          wrongSound.play();
          if (score > 0) score -= 0;
          updateScore();
          showFeedback(false);
          dialogBox.innerHTML = `<div class="speaker">‡∏°‡∏≤‡∏¢‡∏î‡πå:</div><div style="color:red;">${stage.wrongResponse}</div>`;
          setTimeout(nextStage, 2000);
        }
      };
      choicesBox.appendChild(btn);
    });

    // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
    const restartBtn = document.createElement("button");
    restartBtn.textContent = "‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà üîÑ";
    restartBtn.style.backgroundColor = "#6ab04c";
    restartBtn.style.boxShadow = "0 4px 8px #6ab04c88";
    restartBtn.onclick = () => {
      location.reload();
    };
    choicesBox.appendChild(restartBtn);

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ 10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ
    startCountdown(10);
    questionTimer = setTimeout(() => {
      disableChoices();
      stopCountdown();
      dialogBox.innerHTML = `<div class="speaker">‡∏°‡∏≤‡∏¢‡∏î‡πå:</div><div style="color:orange;">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞! ‡πÄ‡∏£‡∏≤‡πÑ‡∏õ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢~</div>`;
      setTimeout(nextStage, 2000);
    }, 10000);
  }

  function endGame() {
    clearChoices();
    stopCountdown();
    timerDisplay.textContent = '';
    dialogBox.innerHTML = `<div class="speaker">‡∏°‡∏≤‡∏¢‡∏î‡πå:</div><div>‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏∞ ${playerName} üéâ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ ${score} ‡∏à‡∏≤‡∏Å ${stages.length} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</div>`;
    const restartBtn = document.createElement("button");
    restartBtn.textContent = "‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà üîÑ";
    restartBtn.style.backgroundColor = "#6ab04c";
    restartBtn.style.boxShadow = "0 4px 8px #6ab04c88";
    restartBtn.onclick = () => {
      location.reload();
    };
    choicesBox.appendChild(restartBtn);
  }

  startBtn.addEventListener('click', () => {
    const name = playerNameInput.value.trim();
    if (name.length === 0) {
      alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°');
      playerNameInput.focus();
      return;
    }
    playerName = name;
    startScreen.style.display = 'none';
    showDialog();
    updateScore();
  });
</script>
</body>
</html>
